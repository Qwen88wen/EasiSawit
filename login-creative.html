<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Login - EasiSawit (Creative Pro)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html, body {
        height: 100%;
        font-family: 'Poppins', sans-serif;
      }

      body {
        background: linear-gradient(135deg,
          #e6f7f1 0%,
          #d1f0e6 25%,
          #b8e8d9 50%,
          #d1f0e6 75%,
          #e6f7f1 100%);
        background-size: 400% 400%;
        animation: gradientShift 20s ease infinite;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
        overflow: hidden;
        position: relative;
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Animated gradient overlay - subtle glow */
      .gradient-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background:
          radial-gradient(circle at 20% 30%, rgba(26, 71, 49, 0.06) 0%, transparent 50%),
          radial-gradient(circle at 80% 70%, rgba(44, 94, 80, 0.04) 0%, transparent 50%),
          radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.4) 0%, transparent 60%);
        animation: gradientMove 25s ease infinite;
      }

      @keyframes gradientMove {
        0%, 100% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
        }
        50% {
          transform: scale(1.05) rotate(3deg);
          opacity: 0.9;
        }
      }

      /* tsParticles container */
      #tsparticles {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: 1;
      }

      /* Main container */
      .login-wrapper {
        position: relative;
        z-index: 10;
        max-width: 1100px;
        width: 100%;
        display: flex;
        gap: 40px;
        align-items: center;
      }

      /* Info panel */
      .info-panel {
        flex: 1;
        color: #ffffff;
      }

      .info-title {
        font-size: 72px;
        font-weight: 700;
        line-height: 1.1;
        margin-bottom: 28px;
        background: linear-gradient(135deg, #0f3722 0%, #1a4731 50%, #2c5e50 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .info-description {
        font-size: 22px;
        color: rgba(15, 55, 34, 0.75);
        line-height: 1.7;
        margin-bottom: 36px;
        font-weight: 400;
      }

      .info-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }

      .stat-item {
        padding: 24px;
        background: rgba(255, 255, 255, 0.5);
        border: 1px solid rgba(26, 71, 49, 0.15);
        border-radius: 16px;
        backdrop-filter: blur(10px);
        transition: all 0.3s ease;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
      }

      .stat-item:hover {
        background: rgba(255, 255, 255, 0.7);
        border-color: rgba(26, 71, 49, 0.3);
        transform: translateY(-4px);
        box-shadow: 0 12px 28px rgba(26, 71, 49, 0.12);
      }

      .stat-number {
        font-size: 36px;
        font-weight: 700;
        color: #1a4731;
        margin-bottom: 6px;
      }

      .stat-label {
        font-size: 15px;
        color: rgba(15, 55, 34, 0.75);
        font-weight: 500;
      }

      /* Login card - Pure White with Deep Shadow */
      .login-card {
        flex: 0 0 520px;
        background: #ffffff;
        border-radius: 32px;
        padding: 56px 48px;

        /* Premium subtle border */
        border: 1px solid rgba(26, 71, 49, 0.08);

        /* Deep shadow for strong separation */
        box-shadow:
          0 10px 40px rgba(0, 0, 0, 0.12),
          0 20px 80px rgba(0, 0, 0, 0.08),
          0 1px 3px rgba(0, 0, 0, 0.06);

        transform: perspective(1200px) rotateY(-10deg);
        transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        transform-style: preserve-3d;
        position: relative;
        overflow: hidden;
      }

      /* Noise texture overlay - very subtle */
      .login-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.015'/%3E%3C/svg%3E");
        border-radius: 32px;
        pointer-events: none;
      }

      .login-card:hover {
        transform: perspective(1200px) rotateY(0deg) translateY(-10px) scale(1.03);
        box-shadow:
          0 20px 60px rgba(0, 0, 0, 0.15),
          0 30px 100px rgba(0, 0, 0, 0.1),
          0 2px 4px rgba(0, 0, 0, 0.08);
      }

      /* Dynamic tilt based on mouse position */
      .login-card.tilt-active {
        transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .logo-section {
        text-align: center;
        margin-bottom: 36px;
      }

      .logo-icon {
        width: 64px;
        height: 64px;
        margin: 0 auto 16px;
        filter: drop-shadow(0 4px 12px rgba(212, 175, 55, 0.3));
        animation: pulse 3s ease-in-out infinite;
        position: relative;
      }

      @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); filter: drop-shadow(0 6px 16px rgba(212, 175, 55, 0.4)); }
      }

      .logo-title {
        font-size: 32px;
        font-weight: 700;
        color: #0f3722;
        margin-bottom: 8px;
      }

      .logo-subtitle {
        font-size: 14px;
        color: #1a4731;
        font-weight: 600;
        margin-bottom: 8px;
      }

      .company-badge {
        display: inline-block;
        padding: 8px 16px;
        background: rgba(212, 175, 55, 0.1);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        font-size: 10px;
        color: rgba(15, 55, 34, 0.7);
        margin-top: 8px;
        border: 1px solid rgba(212, 175, 55, 0.3);
        font-weight: 500;
        line-height: 1.4;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        font-size: 13px;
        font-weight: 600;
        color: #1a4731;
        margin-bottom: 10px;
        letter-spacing: 0.3px;
      }

      .input-wrapper {
        position: relative;
      }

      .input-glow {
        position: absolute;
        inset: 0;
        border-radius: 12px;
        padding: 2px;
        background: linear-gradient(135deg, #2c5e50, #d4af37);
        -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .input-wrapper:focus-within .input-glow {
        opacity: 1;
      }

      .input-icon {
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        color: rgba(26, 71, 49, 0.5);
        z-index: 2;
        transition: color 0.3s ease;
      }

      .input-wrapper:focus-within .input-icon {
        color: #2c5e50;
      }

      .form-input {
        width: 100%;
        padding: 14px 16px 14px 46px;
        font-size: 15px;
        border: 1.5px solid rgba(26, 71, 49, 0.2);
        border-radius: 12px;
        background: #f8faf9;
        color: #0f3722;
        transition: all 0.3s ease;
        font-family: 'Poppins', sans-serif;
        position: relative;
        z-index: 1;
      }

      .form-input:focus {
        outline: none;
        border-color: #1a4731;
        background: #ffffff;
        box-shadow: 0 0 0 3px rgba(26, 71, 49, 0.08);
      }

      .form-input::placeholder {
        color: rgba(26, 71, 49, 0.4);
      }

      .remember-forgot {
        display: flex;
        align-items: center;
        justify-content: space-between;
        font-size: 13px;
        margin-bottom: 24px;
      }

      .remember-label {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #1a4731;
        cursor: pointer;
        font-weight: 500;
      }

      .remember-checkbox {
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: #2c5e50;
      }

      .forgot-link {
        color: #2c5e50;
        text-decoration: none;
        font-weight: 600;
        transition: all 0.2s ease;
        position: relative;
      }

      .forgot-link::after {
        content: '';
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #2c5e50, #d4af37);
        transition: width 0.3s ease;
      }

      .forgot-link:hover {
        color: #d4af37;
      }

      .forgot-link:hover::after {
        width: 100%;
      }

      .submit-button {
        width: 100%;
        padding: 16px;
        font-size: 15px;
        font-weight: 700;
        color: #ffffff;
        background: linear-gradient(180deg, #2c5e50 0%, #1a4731 100%);
        border: none;
        border-radius: 12px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        box-shadow:
          0 8px 20px rgba(26, 71, 49, 0.3),
          inset 0 1px 1px rgba(255, 255, 255, 0.1);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .submit-button::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.6s ease;
      }

      .submit-button:hover {
        background: linear-gradient(180deg, #2d6254 0%, #1b5038 100%);
        transform: translateY(-2px);
        box-shadow:
          0 12px 28px rgba(26, 71, 49, 0.4),
          inset 0 1px 2px rgba(255, 255, 255, 0.15),
          0 0 30px rgba(212, 175, 55, 0.2);
      }

      .submit-button:hover::before {
        left: 100%;
      }

      .submit-button:active {
        transform: translateY(0);
      }

      .submit-button span {
        position: relative;
        z-index: 1;
      }

      .divider {
        display: flex;
        align-items: center;
        margin: 28px 0;
        color: rgba(26, 71, 49, 0.6);
        font-size: 12px;
        font-weight: 500;
      }

      .divider::before,
      .divider::after {
        content: '';
        flex: 1;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(26, 71, 49, 0.15), transparent);
      }

      .divider::before { margin-right: 12px; }
      .divider::after { margin-left: 12px; }

      .register-link-container {
        text-align: center;
        font-size: 14px;
        color: #1a4731;
        font-weight: 500;
      }

      .register-link {
        color: #2c5e50;
        text-decoration: none;
        font-weight: 700;
        transition: all 0.2s ease;
      }

      .register-link:hover {
        color: #d4af37;
      }

      .message-box {
        margin-bottom: 20px;
        padding: 14px 16px;
        border-radius: 12px;
        font-size: 14px;
        backdrop-filter: blur(10px);
        font-weight: 500;
      }

      .message-success {
        background: rgba(240, 253, 244, 0.9);
        color: #166534;
        border: 1.5px solid #86efac;
        box-shadow: 0 4px 12px rgba(34, 197, 94, 0.1);
      }

      .message-error {
        background: rgba(254, 242, 242, 0.9);
        color: #991b1b;
        border: 1.5px solid #fca5a5;
        box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1);
      }

      .hidden { display: none; }

      /* ===== 终极增强效果 ===== */

      /* 1. 页面加载动画 */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .login-wrapper {
        animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .logo-section {
        animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) 0.1s backwards;
      }

      .form-group {
        animation: fadeInUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) calc(0.2s + var(--index) * 0.1s) backwards;
      }

      /* 2. 按钮涟漪效果 */
      .ripple {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.6);
        transform: scale(0);
        animation: ripple-effect 0.6s ease-out;
        pointer-events: none;
      }

      @keyframes ripple-effect {
        to {
          transform: scale(4);
          opacity: 0;
        }
      }

      /* 3. 装饰性几何图形 */
      .decoration-shape {
        position: absolute;
        pointer-events: none;
        opacity: 0.06;
      }

      .shape-circle {
        width: 300px;
        height: 300px;
        border-radius: 50%;
        border: 2px solid rgba(26, 71, 49, 0.15);
        top: -150px;
        right: -150px;
        animation: rotate 30s linear infinite;
      }

      .shape-square {
        width: 200px;
        height: 200px;
        border: 2px solid rgba(44, 94, 80, 0.15);
        bottom: -100px;
        left: -100px;
        animation: rotate 25s linear infinite reverse;
        transform-origin: center;
      }

      .shape-hexagon {
        width: 150px;
        height: 150px;
        clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        background: linear-gradient(135deg, rgba(26, 71, 49, 0.12), rgba(44, 94, 80, 0.12));
        top: 50%;
        right: 10%;
        animation: float-shape 20s ease-in-out infinite;
      }

      @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      @keyframes float-shape {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-30px) rotate(180deg); }
      }

      /* 4. 光效动画 */
      .light-beam {
        position: absolute;
        width: 2px;
        height: 100px;
        background: linear-gradient(to bottom, transparent, rgba(212, 175, 55, 0.4), transparent);
        animation: light-move 3s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes light-move {
        0%, 100% {
          top: -100px;
          opacity: 0;
        }
        50% {
          top: 50%;
          opacity: 1;
        }
      }

      /* 5. 密码显示按钮 */
      .password-toggle {
        position: absolute;
        right: 16px;
        top: 50%;
        transform: translateY(-50%);
        width: 24px;
        height: 24px;
        cursor: pointer;
        color: rgba(26, 71, 49, 0.5);
        transition: all 0.3s ease;
        z-index: 3;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .password-toggle:hover {
        color: #2c5e50;
        transform: translateY(-50%) scale(1.1);
      }

      /* 6. 表单验证状态 */
      .form-input.valid {
        border-color: rgba(34, 197, 94, 0.5);
        background: rgba(240, 253, 244, 0.6);
      }

      .form-input.invalid {
        border-color: rgba(239, 68, 68, 0.5);
        background: rgba(254, 242, 242, 0.6);
        animation: shake 0.5s;
      }

      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
      }

      .validation-icon {
        position: absolute;
        right: 48px;
        top: 50%;
        transform: translateY(-50%);
        width: 20px;
        height: 20px;
        z-index: 3;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .validation-icon.show {
        opacity: 1;
      }

      /* 7. 3D景深增强 */
      .info-panel {
        transform: translateZ(50px);
        transition: transform 0.6s ease;
      }

      .login-card {
        transform-origin: center center;
      }

      /* 8. 品牌水印 */
      .brand-watermark {
        position: absolute;
        bottom: 20px;
        left: 20px;
        font-size: 120px;
        font-weight: 900;
        color: rgba(212, 175, 55, 0.03);
        pointer-events: none;
        line-height: 1;
        user-select: none;
      }

      /* 9. 悬停增强效果 */
      .logo-icon:hover {
        transform: scale(1.1) rotate(5deg);
        filter: drop-shadow(0 8px 20px rgba(212, 175, 55, 0.5));
      }

      /* 10. 聚焦指示器 */
      .focus-indicator {
        position: absolute;
        left: 0;
        bottom: 0;
        height: 2px;
        width: 0;
        background: linear-gradient(90deg, #2c5e50, #d4af37);
        transition: width 0.3s ease;
      }

      .form-group:focus-within .focus-indicator {
        width: 100%;
      }

      /* 11. Tab键导航提示 */
      .form-input:focus-visible {
        outline: 2px solid #d4af37;
        outline-offset: 2px;
      }

      /* 12. 加载骨架屏 */
      .skeleton {
        background: linear-gradient(90deg,
          rgba(255, 255, 255, 0.1) 25%,
          rgba(255, 255, 255, 0.2) 50%,
          rgba(255, 255, 255, 0.1) 75%
        );
        background-size: 200% 100%;
        animation: skeleton-loading 1.5s infinite;
      }

      @keyframes skeleton-loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }

      /* 13. 视差滚动效果（针对info-panel内的元素） */
      .parallax-element {
        transition: transform 0.3s ease-out;
      }

      /* 14. 悬停时的光泽扫过 */
      .submit-button::after {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
      }

      .submit-button:hover::after {
        opacity: 1;
      }

      /* 15. 微妙的边缘高光 */
      .edge-highlight {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
        pointer-events: none;
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .login-wrapper {
          flex-direction: column;
        }
        .info-panel {
          text-align: center;
        }
        .info-title {
          font-size: 52px;
        }
        .info-description {
          font-size: 18px;
        }
        .login-card {
          transform: none !important;
          flex: 0 0 auto;
          width: 100%;
          max-width: 520px;
        }
        .login-card:hover {
          transform: translateY(-8px) !important;
        }
      }

      @media (max-width: 640px) {
        .info-stats {
          grid-template-columns: 1fr;
        }
        .info-title {
          font-size: 36px;
        }
        .info-description {
          font-size: 16px;
        }
      }
    </style>
    <script>
      if (sessionStorage.getItem("isLoggedIn") === "true") {
        window.location.href = "index.html";
      }
    </script>
  </head>
  <body>
    <div class="gradient-bg"></div>

    <!-- tsParticles container -->
    <div id="tsparticles"></div>

    <!-- Decorative Shapes -->
    <div class="decoration-shape shape-circle"></div>
    <div class="decoration-shape shape-square"></div>
    <div class="decoration-shape shape-hexagon"></div>

    <!-- Light Beams -->
    <div class="light-beam" style="left: 20%;"></div>
    <div class="light-beam" style="left: 50%; animation-delay: 1s;"></div>
    <div class="light-beam" style="left: 80%; animation-delay: 2s;"></div>

    <!-- Brand Watermark -->
    <div class="brand-watermark">EASI</div>

    <div class="login-wrapper">
      <!-- Info Panel -->
      <div class="info-panel">
        <h1 class="info-title">
          Welcome to<br />EasiSawit
        </h1>
        <p class="info-description">
          The most advanced palm oil management platform. Streamline your operations,
          optimize workforce management, and make data-driven decisions.
        </p>
        <div class="info-stats">
          <div class="stat-item">
            <div class="stat-number">99.9%</div>
            <div class="stat-label">Uptime</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">24/7</div>
            <div class="stat-label">Support</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">500+</div>
            <div class="stat-label">Active Users</div>
          </div>
          <div class="stat-item">
            <div class="stat-number">Secure</div>
            <div class="stat-label">Enterprise Grade</div>
          </div>
        </div>
      </div>

      <!-- Login Card -->
      <div class="login-card">
        <div class="edge-highlight"></div>
        <div class="logo-section">
          <svg class="logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <circle cx="50" cy="50" r="45" fill="#10b981"/>
            <g transform="translate(50, 50)">
              <ellipse cx="0" cy="-15" rx="8" ry="20" fill="#059669"/>
              <ellipse cx="-12" cy="-8" rx="8" ry="20" fill="#059669" transform="rotate(-60)"/>
              <ellipse cx="12" cy="-8" rx="8" ry="20" fill="#059669" transform="rotate(60)"/>
              <circle cx="0" cy="0" r="12" fill="#065f46"/>
              <rect x="-3" y="0" width="6" height="30" fill="#92400e" rx="2"/>
            </g>
          </svg>
          <h2 class="logo-title">Admin Login</h2>
          <p class="logo-subtitle">Access your dashboard</p>
          <div class="company-badge">632236-X • MPOB: 446276-029888 • Tel: 019-9988273</div>
        </div>

        <form id="loginForm">
          <div id="messageDiv" class="message-box hidden"></div>

          <div class="form-group" style="--index: 0; position: relative;">
            <label class="form-label">Username</label>
            <div class="input-wrapper">
              <div class="input-glow"></div>
              <i data-lucide="user" class="input-icon" style="width: 18px; height: 18px;"></i>
              <input
                type="text"
                id="username"
                name="username"
                required
                class="form-input"
                placeholder="Enter username"
                autocomplete="username"
              />
              <i data-lucide="check-circle" class="validation-icon" id="username-valid" style="width: 20px; height: 20px; color: #22c55e;"></i>
              <i data-lucide="x-circle" class="validation-icon" id="username-invalid" style="width: 20px; height: 20px; color: #ef4444;"></i>
            </div>
            <div class="focus-indicator"></div>
          </div>

          <div class="form-group" style="--index: 1; position: relative;">
            <label class="form-label">Password</label>
            <div class="input-wrapper">
              <div class="input-glow"></div>
              <i data-lucide="lock" class="input-icon" style="width: 18px; height: 18px;"></i>
              <input
                type="password"
                id="password"
                name="password"
                required
                class="form-input"
                placeholder="Enter password"
                autocomplete="current-password"
              />
              <div class="password-toggle" id="togglePassword">
                <i data-lucide="eye" id="eyeIcon" style="width: 20px; height: 20px;"></i>
              </div>
              <i data-lucide="check-circle" class="validation-icon" id="password-valid" style="width: 20px; height: 20px; color: #22c55e; right: 52px;"></i>
              <i data-lucide="x-circle" class="validation-icon" id="password-invalid" style="width: 20px; height: 20px; color: #ef4444; right: 52px;"></i>
            </div>
            <div class="focus-indicator"></div>
          </div>

          <div class="remember-forgot">
            <label class="remember-label">
              <input type="checkbox" id="remember" class="remember-checkbox" />
              <span>Remember me</span>
            </label>
            <a href="#" class="forgot-link">Forgot password?</a>
          </div>

          <button type="submit" id="submitBtn" class="submit-button">
            <span>Sign In</span>
            <i data-lucide="arrow-right" style="width: 18px; height: 18px;"></i>
          </button>
        </form>

        <div class="divider">or</div>

        <div class="register-link-container">
          Not an admin? <a href="register.html" class="register-link">Register as Customer</a>
        </div>
      </div>
    </div>

    <script>
      document.getElementById("loginForm").addEventListener("submit", async (e) => {
        e.preventDefault();

        const username = document.getElementById("username").value.trim();
        const password = document.getElementById("password").value;
        const submitBtn = document.getElementById("submitBtn");
        const messageDiv = document.getElementById("messageDiv");

        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i data-lucide="loader" class="animate-spin" style="width: 18px; height: 18px;"></i> <span>Signing in...</span>';
        lucide.createIcons();

        try {
          const response = await fetch("api/api_login.php", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              username: username,
              password: password,
            }),
          });

          const result = await response.json();
          messageDiv.classList.remove("hidden");

          if (response.ok) {
            messageDiv.className = "message-box message-success";
            messageDiv.innerHTML = `<strong>Success!</strong> Welcome back, ${result.full_name}!`;

            sessionStorage.setItem("isLoggedIn", "true");
            sessionStorage.setItem("username", result.username);
            sessionStorage.setItem("fullName", result.full_name);

            setTimeout(() => {
              window.location.href = "index.html";
            }, 1500);
          } else {
            messageDiv.className = "message-box message-error";
            messageDiv.innerHTML = `<strong>Error:</strong> ${result.message}`;
          }
        } catch (error) {
          messageDiv.classList.remove("hidden");
          messageDiv.className = "message-box message-error";
          messageDiv.innerHTML = `<strong>Error:</strong> ${error.message}`;
        } finally {
          submitBtn.disabled = false;
          submitBtn.innerHTML = '<span>Sign In</span><i data-lucide="arrow-right" style="width: 18px; height: 18px;"></i>';
          lucide.createIcons();
        }
      });

      lucide.createIcons();

      // ===== 终极交互功能 =====

      // 1. 密码显示/隐藏
      const togglePassword = document.getElementById('togglePassword');
      const passwordInput = document.getElementById('password');
      const eyeIcon = document.getElementById('eyeIcon');

      togglePassword.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);

        // 切换图标
        eyeIcon.setAttribute('data-lucide', type === 'password' ? 'eye' : 'eye-off');
        lucide.createIcons();
      });

      // 2. 表单实时验证
      const usernameInput = document.getElementById('username');
      const usernameValid = document.getElementById('username-valid');
      const usernameInvalid = document.getElementById('username-invalid');
      const passwordValid = document.getElementById('password-valid');
      const passwordInvalid = document.getElementById('password-invalid');

      function validateUsername() {
        const value = usernameInput.value.trim();
        if (value.length >= 3) {
          usernameInput.classList.remove('invalid');
          usernameInput.classList.add('valid');
          usernameValid.classList.add('show');
          usernameInvalid.classList.remove('show');
          return true;
        } else if (value.length > 0) {
          usernameInput.classList.remove('valid');
          usernameInput.classList.add('invalid');
          usernameValid.classList.remove('show');
          usernameInvalid.classList.add('show');
          return false;
        } else {
          usernameInput.classList.remove('valid', 'invalid');
          usernameValid.classList.remove('show');
          usernameInvalid.classList.remove('show');
          return false;
        }
      }

      function validatePassword() {
        const value = passwordInput.value;
        if (value.length >= 6) {
          passwordInput.classList.remove('invalid');
          passwordInput.classList.add('valid');
          passwordValid.classList.add('show');
          passwordInvalid.classList.remove('show');
          return true;
        } else if (value.length > 0) {
          passwordInput.classList.remove('valid');
          passwordInput.classList.add('invalid');
          passwordValid.classList.remove('show');
          passwordInvalid.classList.add('show');
          return false;
        } else {
          passwordInput.classList.remove('valid', 'invalid');
          passwordValid.classList.remove('show');
          passwordInvalid.classList.remove('show');
          return false;
        }
      }

      usernameInput.addEventListener('input', validateUsername);
      usernameInput.addEventListener('blur', validateUsername);
      passwordInput.addEventListener('input', validatePassword);
      passwordInput.addEventListener('blur', validatePassword);

      // 3. 按钮涟漪效果
      const submitBtn = document.getElementById('submitBtn');

      submitBtn.addEventListener('click', function(e) {
        const ripple = document.createElement('span');
        ripple.classList.add('ripple');

        const rect = this.getBoundingClientRect();
        const size = Math.max(rect.width, rect.height);
        const x = e.clientX - rect.left - size / 2;
        const y = e.clientY - rect.top - size / 2;

        ripple.style.width = ripple.style.height = size + 'px';
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';

        this.appendChild(ripple);

        setTimeout(() => ripple.remove(), 600);
      });

      // 4. 视差鼠标跟随效果
      const infoPanel = document.querySelector('.info-panel');
      let parallaxElements = document.querySelectorAll('.info-title, .info-description, .stat-item');

      document.addEventListener('mousemove', function(e) {
        const mouseX = e.clientX / window.innerWidth;
        const mouseY = e.clientY / window.innerHeight;

        parallaxElements.forEach((el, index) => {
          const speed = (index + 1) * 5;
          const x = (mouseX - 0.5) * speed;
          const y = (mouseY - 0.5) * speed;
          el.style.transform = `translate(${x}px, ${y}px)`;
        });
      });

      // 5. 键盘导航增强
      const formInputs = document.querySelectorAll('.form-input');
      formInputs.forEach((input, index) => {
        input.addEventListener('keydown', function(e) {
          if (e.key === 'Enter' && index < formInputs.length - 1) {
            e.preventDefault();
            formInputs[index + 1].focus();
          }
        });
      });

      // 初始化图标
      lucide.createIcons();

      // Initialize tsParticles - Simple Tiny Particles
      tsParticles.load("tsparticles", {
        background: {
          color: {
            value: "transparent"
          }
        },
        fpsLimit: 60,
        interactivity: {
          events: {
            onHover: {
              enable: false
            },
            onClick: {
              enable: false
            },
            resize: true
          }
        },
        particles: {
          number: {
            value: 100,
            density: {
              enable: true,
              area: 800
            }
          },
          color: {
            value: ["#f0c14b", "#d4af37", "rgba(255, 255, 255, 0.8)"]
          },
          shape: {
            type: "circle"
          },
          opacity: {
            value: 0.4,
            random: true,
            animation: {
              enable: true,
              speed: 0.5,
              minimumValue: 0.2,
              sync: false
            }
          },
          size: {
            value: 4,
            random: {
              enable: true,
              minimumValue: 2
            },
            animation: {
              enable: true,
              speed: 1,
              minimumValue: 1.5,
              sync: false
            }
          },
          links: {
            enable: false
          },
          move: {
            enable: true,
            speed: 0.3,
            direction: "none",
            random: true,
            straight: false,
            outModes: {
              default: "out"
            }
          },
          shadow: {
            enable: true,
            color: "#d4af37",
            blur: 6,
            offset: {
              x: 0,
              y: 0
            }
          }
        },
        detectRetina: true
      });

      // Dynamic tilt effect based on mouse position
      const loginCard = document.querySelector('.login-card');
      let isHovering = false;

      loginCard.addEventListener('mouseenter', () => {
        isHovering = true;
        loginCard.classList.add('tilt-active');
      });

      loginCard.addEventListener('mouseleave', () => {
        isHovering = false;
        loginCard.classList.remove('tilt-active');
        // Reset to default tilt
        loginCard.style.transform = 'perspective(1200px) rotateY(-10deg)';
      });

      loginCard.addEventListener('mousemove', (e) => {
        if (!isHovering) return;

        const rect = loginCard.getBoundingClientRect();
        const x = e.clientX - rect.left; // Mouse X position within the card

        const centerX = rect.width / 2;

        // Calculate rotation angle - horizontal only (max ±20 degrees)
        const rotateY = ((x - centerX) / centerX) * 20;

        // Apply the transform - only rotateY (horizontal rotation)
        loginCard.style.transform = `perspective(1200px) rotateY(${rotateY}deg) translateY(-10px) scale(1.03)`;
      });
    </script>
  </body>
</html>
